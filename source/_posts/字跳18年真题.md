---
title: å­—èŠ‚è·³åŠ¨18å¹´åç«¯æ–¹å‘ç¬”è¯•çœŸé¢˜
date: 2019å¹´8æœˆ13æ—¥ 08:35
categories: ç¬”è¯•
tags: [å­—èŠ‚è·³åŠ¨,çœŸé¢˜]
---
## å­—è·³18å¹´åç«¯æ–¹å‘

### ğŸ¥‡ç”¨æˆ·å–œå¥½

#### é¢˜ç›®æè¿°

>ä¸ºäº†ä¸æ–­ä¼˜åŒ–æ¨èæ•ˆæœï¼Œä»Šæ—¥å¤´æ¡æ¯å¤©è¦å­˜å‚¨å’Œå¤„ç†æµ·é‡æ•°æ®ã€‚å‡è®¾æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼šæˆ‘ä»¬å¯¹ç”¨æˆ·æŒ‰ç…§å®ƒä»¬çš„æ³¨å†Œæ—¶é—´å…ˆåæ¥æ ‡å·ï¼Œå¯¹äºä¸€ç±»æ–‡ç« ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸åŒçš„å–œå¥½å€¼ï¼Œæˆ‘ä»¬ä¼šæƒ³çŸ¥é“æŸä¸€æ®µæ—¶é—´å†…æ³¨å†Œçš„ç”¨æˆ·ï¼ˆæ ‡å·ç›¸è¿çš„ä¸€æ‰¹ç”¨æˆ·ï¼‰ä¸­ï¼Œæœ‰å¤šå°‘ç”¨æˆ·å¯¹è¿™ç±»æ–‡ç« å–œå¥½å€¼ä¸ºkã€‚å› ä¸ºä¸€äº›ç‰¹æ®Šçš„åŸå› ï¼Œä¸ä¼šå‡ºç°ä¸€ä¸ªæŸ¥è¯¢çš„ç”¨æˆ·åŒºé—´å®Œå…¨è¦†ç›–å¦ä¸€ä¸ªæŸ¥è¯¢çš„ç”¨æˆ·åŒºé—´(ä¸å­˜åœ¨L1<=L2<=R2<=R1)ã€‚

<!--more-->

#### è¾“å…¥æè¿°

>è¾“å…¥ï¼š ç¬¬1è¡Œä¸ºnä»£è¡¨ç”¨æˆ·çš„ä¸ªæ•° ç¬¬2è¡Œä¸ºnä¸ªæ•´æ•°ï¼Œç¬¬iä¸ªä»£è¡¨ç”¨æˆ·æ ‡å·ä¸ºiçš„ç”¨æˆ·å¯¹æŸç±»æ–‡ç« çš„å–œå¥½åº¦ ç¬¬3è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°qä»£è¡¨æŸ¥è¯¢çš„ç»„æ•°  ç¬¬4è¡Œåˆ°ç¬¬ï¼ˆ3+qï¼‰è¡Œï¼Œæ¯è¡ŒåŒ…å«3ä¸ªæ•´æ•°l,r,kä»£è¡¨ä¸€ç»„æŸ¥è¯¢ï¼Œå³æ ‡å·ä¸ºl<=i<=rçš„ç”¨æˆ·ä¸­å¯¹è¿™ç±»æ–‡ç« å–œå¥½å€¼ä¸ºkçš„ç”¨æˆ·çš„ä¸ªæ•°ã€‚ æ•°æ®èŒƒå›´n <= 300000,q<=300000 kæ˜¯æ•´å‹

### è¾“å…¥æè¿°

>è¾“å‡ºï¼šä¸€å…±qè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ä»£è¡¨å–œå¥½å€¼ä¸ºkçš„ç”¨æˆ·çš„ä¸ªæ•°

### é—®é¢˜åˆ†æ

è¿™é¢˜çš„é¢˜ç›®å¾ˆé•¿ï¼Œå®¹æ˜“æŠŠäººå¼„æ™•ã€‚ç»™äº†ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç´¢å¼•iå¯¹åº”çš„å€¼ä»£è¡¨å‘˜å·¥ç¼–å·ä¸ºiçš„å–œå¥½å€¼valï¼›ç„¶åç»™ä¸€ä¸ªæŸ¥è¯¢æ¡ä»¶ï¼Œå‘˜å·¥ç¼–å·çš„èŒƒå›´[l, r],ä»¥åŠå–œå¥½å€¼kï¼Œåˆ¤æ–­åœ¨è¿™ä¸ªèŒƒå›´å†…æœ‰å¤šå°‘å–œå¥½å€¼ä¸ºkçš„å‘˜å·¥ã€‚æˆ‘ä»¬è¾“å‡ºæ‰“å°å‘˜å·¥çš„äººæ•°å³å¯ã€‚

çœ‹åˆ°è¿™é¢˜ï¼Œå°±è§‰å¾—ç®€ç›´ä¸èƒ½æ›´ç®€å•äº†å¥½ä¹ˆï¼ç”¨ä¸€ä¸ªæ•°ç»„æŠŠå‘˜å·¥çš„å–œå¥½å€¼å­˜èµ·æ¥ï¼Œå†ç”¨ä¸€ä¸ªforå¾ªç¯éå†ç´¢å¼•ä¸º[left,right]ä¸­çš„å–œå¥½å€¼å³å¯ã€‚æ— å¥ˆç†æƒ³å¾ˆä¸°æ»¡ï¼Œç°å®å¾ˆéª¨æ„Ÿï¼Œä¸€æäº¤è¿è¡Œå°±ç»™ä½ ä¸€ä¸ª50%çš„é€šè¿‡ç‡ï¼ŒåŸå› æ˜¯è¶…æ—¶ã€‚å¯èƒ½æ˜¯å‘˜å·¥çš„äººæ•°è¿‡å¤šï¼Œä½†å–œå¥½å€¼å‘¢ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå›ºå®šçš„èŒƒå›´ã€‚

å› æ­¤æƒ³åŠæ³•æ”¹è¿›ï¼Œå¾ˆç›´è§‚çš„æ–¹æ³•æ˜¯ç”¨ä¸€ä¸ªmapæŠŠå–œå¥½å’Œå‘˜å·¥ç¼–å·å¯¹åº”èµ·æ¥ï¼Œæ¯æ¬¡æŸ¥è¯¢æ‰¾åˆ°å–œå¥½å€¼ä¸ºkçš„æ‰€æœ‰å‘˜å·¥ï¼Œå‘˜å·¥çš„ç¼–å·æ˜¯æœ‰åºçš„ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ‰€æœ‰åœ¨èŒƒå›´å†…çš„å‘˜å·¥å³å¯ã€‚äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œæ‰¾åˆ°å¤§äºç­‰äºå‘˜å·¥ç¼–å·å·¦è¾¹ç•Œçš„æœ€å°å€¼ï¼Œå’Œå°äºç­‰äºå‘˜å·¥ç¼–å·çš„æœ€å¤§å€¼ï¼Œæ ¹æ®äºŒè€…çš„å·®å€¼æ±‚å‡ºå‘˜å·¥æ•°ç›®ã€‚

ä»£ç å¦‚ä¸‹

```java
import java.util.*;

/**
 * @author zhen
 */
public class Main {
    public static void main(String[] args) {
      Scanner in = new Scanner(System.in);
      int N = in.nextInt();
      HashMap<Integer, List<Integer>> map = new HashMap<>();
      //å°†å–œå¥½ä¸ºkçš„å‘˜å·¥æ”¾åœ¨ä¸€èµ·
      for(int i=1; i<=N; i++){
        int k = in.nextInt();
        //è¿™ç§è¾“å…¥æ–¹æ³•å¯ä»¥è®°ä¸€ä¸‹ï¼Œä¸€ä¸ªkeyå¯¹åº”ä¸€ä¸ªåˆ—è¡¨çš„æƒ…å†µ
        List<Integer> tmp = map.getOrDefault(k, new ArrayList<>());
        tmp.add(i);
        map.put(k, tmp);        
      }
      int q = in.nextInt();
      int res = 0;
      for(int i=0;i<q;i++){
        int left = in.nextInt();
        int right = in.nextInt();
        int target = in.nextInt();
        if(map.containsKey(target)){
          List<Integer> list = map.get(target);
          //æŠŠIntegerç±»å‹ä¼ è¿›å»
          Integer[] array = list.toArray(Integer[0]);
          int start = lowerBound(array, target);
          int end = upperBound(array, target);
          if(start != -1 && end != -1){
            res = end - start +1;
          }                   
        }else{
          res = 0;
        }
        System.out.println(res);
      }      
    }
  //æ‰¾åˆ°å¤§äºç­‰äºtargetçš„æœ€å°å€¼
  private static int lowerBound(Integer[] array, int target){
    int l = 0;
    int r = array.length-1;
    while(l <= r){
      int mid = (r-l)/2+l;
      if(target <= array[mid]){
        r = mid-1;
      }else{
        l = mid+1;
      }
    }
    if(l < array.length && array[l] >= target){
      return l;
    }else{
      return -1;
    }
  }
  //æ‰¾åˆ°å°äºç­‰äºtargetçš„æœ€å¤§å€¼
  private static int upperBound(Integer[] array, int target){
    int l = 0;
    int r = array.length-1;
    while(l <= r){
      int mid = (r-l)/2+l;
      if(target >= array[mid]){
        l = mid+1;
      }else{
        r = mid-1;
      }
    }
    if(r >= 0 && array[r] <= target){
      return r;
    }else{
      return -1;
    }
  }
}
```

### ğŸ¥ˆæ‰‹ä¸²

#### é¢˜ç›®æè¿°

>ä½œä¸ºä¸€ä¸ªæ‰‹ä¸²è‰ºäººï¼Œæœ‰é‡‘ä¸»å‘ä½ è®¢è´­äº†ä¸€æ¡åŒ…å«nä¸ªæ‚è‰²ä¸²ç çš„æ‰‹ä¸²â€”â€”æ¯ä¸ªä¸²ç è¦ä¹ˆæ— è‰²ï¼Œè¦ä¹ˆæ¶‚äº†è‹¥å¹²ç§é¢œè‰²ã€‚ä¸ºäº†ä½¿æ‰‹ä¸²çš„è‰²å½©çœ‹èµ·æ¥ä¸é‚£ä¹ˆå•è°ƒï¼Œé‡‘ä¸»è¦æ±‚ï¼Œæ‰‹ä¸²ä¸Šçš„ä»»æ„ä¸€ç§é¢œè‰²ï¼ˆä¸åŒ…å«æ— è‰²ï¼‰ï¼Œåœ¨ä»»æ„è¿ç»­çš„mä¸ªä¸²ç é‡Œè‡³å¤šå‡ºç°ä¸€æ¬¡ï¼ˆæ³¨æ„è¿™é‡Œæ‰‹ä¸²æ˜¯ä¸€ä¸ªç¯å½¢ï¼‰ã€‚æ‰‹ä¸²ä¸Šçš„é¢œè‰²ä¸€å…±æœ‰cç§ã€‚ç°åœ¨æŒ‰é¡ºæ—¶é’ˆåºå‘Šè¯‰ä½ nä¸ªä¸²ç çš„æ‰‹ä¸²ä¸Šï¼Œæ¯ä¸ªä¸²ç ç”¨æ‰€åŒ…å«çš„é¢œè‰²åˆ†åˆ«æœ‰å“ªäº›ã€‚è¯·ä½ åˆ¤æ–­è¯¥æ‰‹ä¸²ä¸Šæœ‰å¤šå°‘ç§é¢œè‰²ä¸ç¬¦åˆè¦æ±‚ã€‚å³è¯¢é—®æœ‰å¤šå°‘ç§é¢œè‰²åœ¨ä»»æ„è¿ç»­mä¸ªä¸²ç ä¸­å‡ºç°äº†è‡³å°‘ä¸¤æ¬¡.

#### è¾“å…¥æè¿°

>ç¬¬ä¸€è¡Œè¾“å…¥nï¼Œmï¼Œcä¸‰ä¸ªæ•°ï¼Œç”¨ç©ºæ ¼éš”å¼€ã€‚(1 <= n <= 10000, 1 <= m <= 1000, 1 <= c <= 50) æ¥ä¸‹æ¥nè¡Œæ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•°num_i(0 <= num_i <= c)è¡¨ç¤ºç¬¬ié¢—ç å­æœ‰å¤šå°‘ç§é¢œè‰²ã€‚æ¥ä¸‹æ¥ä¾æ¬¡è¯»å…¥num_iä¸ªæ•°å­—ï¼Œæ¯ä¸ªæ•°å­—xè¡¨ç¤ºç¬¬ié¢—æŸ±å­ä¸ŠåŒ…å«ç¬¬xç§é¢œè‰²(1 <= x <= c)

#### è¾“å‡ºæè¿°

>ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºè¯¥æ‰‹é“¾ä¸Šæœ‰å¤šå°‘ç§é¢œè‰²ä¸ç¬¦éœ€æ±‚ã€‚

#### é—®é¢˜åˆ†æ

è¿™ä¸ªé¢˜ç›®ä¹Ÿå¾ˆç»•ï¼Œæå¾—äººçœ‹ä¸æ˜ç™½å°±å¯¹äº†ã€‚æˆ‘ä¸€åº¦è§‰å¾—è‡ªå·±æ™ºå•†æœ‰é—®é¢˜ã€‚ç»™ä¸€ä¸ªæ‰‹ä¸²ï¼Œæ‰‹ä¸²ä¸Šæœ‰nä¸ªç å­ï¼Œæ€»å…±æœ‰cç§é¢œè‰²ï¼Œæ¯ä¸ªç å­å¯èƒ½ç”±0ç§æˆ–å¤šç§é¢œè‰²ç»„æˆï¼Œè§„åˆ™ä¸ºè¿ç»­mä¸ªç å­ä¸­å‡ºç°äº†è‡³å°‘ä¸¤æ¬¡åˆ™è¿™ç§é¢œè‰²ä¸ç¬¦åˆè¦æ±‚ã€‚

æˆ‘ä»¬æŠŠé¢˜ç›®è½¬æ¢ä¸€ä¸‹ï¼Œæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œç´¢å¼•iæŒ‡çš„æ˜¯é¢œè‰²iï¼Œæ¯ä¸ªé‡Œé¢æ”¾çš„æ˜¯æ‰€æœ‰å‡ºç°äº†çš„ç å­ä½ç½®ï¼Œç„¶ååˆ¤æ–­æ¯ä¸ªé¢œè‰²é‡Œé¢çš„ç å­æ˜¯å¦æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚

æ³¨æ„ï¼šè¿™é‡Œè¦è¾“å‡ºçš„æ˜¯æœ‰**å¤šå°‘ç§é¢œè‰²**ä¸ç¬¦åˆéœ€æ±‚ï¼Œå› æ­¤æ¯ç§é¢œè‰²åªè¦å‡ºç°äº†ä¸€ç»„ä¸ç¬¦åˆè¦æ±‚çš„ä½ç½®å°±å¯ä»¥é€€å‡ºäº†ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```java
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.List;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        int N = in.nextInt();
        int M = in.nextInt();
        int C = in.nextInt();
        List<Integer>[] position = new List<>[C+1];
        for(int i=1;i<=C;i++){
           position[i] = new ArrayList<>();          
        }
        for(int i=0; i<N;i++){
          int c= in.nextInt();
          for(int j=0; j<c;j++){
            position[j].add(i);
          }
        }
      	int count = 0;
      	for(int i=1 ; i<=C;i++){
          //æ‰‹é“¾æ˜¯ç¯å½¢
          	if(position[i].get(0)+N-position[position[i].size()-1] < M){
              count++;
              continue;
            }
            for(int j=0;j<position[i].size()-1;i++){
              if(position[i].get(j+1) - position[i].get[j] < M){
                count++;
                break;
              }
            }
        }
      System.out.println(count);      
    }
}
```

